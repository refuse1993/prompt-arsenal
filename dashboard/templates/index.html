{% extends "base.html" %}

{% block title %}Dashboard - Prompt Arsenal{% endblock %}

{% block content %}
<div class="page-header">
    <h1 style="font-size: 2rem; font-weight: 700; margin-bottom: var(--spacing-sm);">âš”ï¸ Prompt Arsenal Dashboard</h1>
    <p style="color: var(--text-secondary); font-size: 1.125rem;">AI Security Testing Framework - í†µí•© ëŒ€ì‹œë³´ë“œ</p>
</div>

<div class="mt-2" id="stats-container">
    <!-- Stats will be loaded here -->
</div>

<!-- Classification Stats -->
<div class="grid grid-3 mt-2">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸ¯ Purpose (ëª©ì ë³„)</h3>
        </div>
        <div class="card-body">
            <canvas id="purposeChart" style="max-height: 250px;"></canvas>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">âš ï¸ Risk Category (ìœ„í—˜ ë„ë©”ì¸)</h3>
        </div>
        <div class="card-body">
            <canvas id="riskChart" style="max-height: 250px;"></canvas>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸ”§ Top Techniques (ê¸°ë²•)</h3>
        </div>
        <div class="card-body">
            <canvas id="techniqueChart" style="max-height: 250px;"></canvas>
        </div>
    </div>
</div>

<!-- Success Rates by Classification -->
<div class="grid grid-2 mt-2">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">âš”ï¸ Offensive vs ğŸ›¡ï¸ Defensive</h3>
        </div>
        <div class="card-body">
            <canvas id="purposeSuccessChart" style="max-height: 300px;"></canvas>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸ“Š Risk Category Success Rates</h3>
        </div>
        <div class="card-body">
            <canvas id="riskSuccessChart" style="max-height: 300px;"></canvas>
        </div>
    </div>
</div>

<div class="grid grid-2 mt-2">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸ“Š Recent Activity</h3>
        </div>
        <div class="card-body" id="activity-container">
            <!-- Activity will be loaded here -->
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸ“ˆ Category Success Rates</h3>
        </div>
        <div class="card-body" id="success-rates-container">
            <!-- Success rates will be loaded here -->
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script type="module" src="{{ url_for('static', filename='js/modules/home.js') }}"></script>
{% endblock %}
